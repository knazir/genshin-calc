(this["webpackJsonpgenshin-calc"]=this["webpackJsonpgenshin-calc"]||[]).push([[0],{109:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(13),s=a.n(r),l=a(76),i=a(7),o=a(15),u=a(94),j=a(179),d=a(180),b=a(70),O=a(181),f=a(188),h=a(26),m=a(27),p=new(function(){function e(){Object(h.a)(this,e),this._successHandler=null,this._errorHandler=null,this._uniqueIds={}}return Object(m.a)(e,[{key:"nextUniqueId",value:function(e){this._uniqueIds[e]||(this._uniqueIds[e]=1);var t=this._uniqueIds[e];return this._uniqueIds[e]++,"".concat(e,"_").concat(t)}},{key:"registerSuccessHandler",value:function(e){this._successHandler=e}},{key:"registerErrorHandler",value:function(e){this._errorHandler=e}},{key:"onSuccess",value:function(e){this._successHandler&&this._successHandler(e)}},{key:"onError",value:function(e){this._errorHandler&&this._errorHandler(e)}}]),e}()),v=a(178),S=a(163),g=a(183),x=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"roundToDecimals",value:function(e,t){for(var a=1,n=0;n<t;n++)a*=10;return Math.round(e*a)/a}},{key:"percentIncrease",value:function(e,t){return e*(1+t/100)}}]),e}(),y=a(43),D=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"addStats",value:function(){for(var e=this._filledStats({}),t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return a.forEach((function(t){Object.entries(t).forEach((function(t){var a=Object(i.a)(t,2),n=a[0],c=a[1];e[n]=null==e[n]?c:e[n]+c}))})),this._roundStats(e)}},{key:"getFinalStats",value:function(e,t,a,n,c,r){e=this._filledStats(e),t=this._filledStats(t),a=this._filledStats(a),n=this._filledStats(n),c=this._filledStats(c);var s={},l=this._sumStats("atkPercent",a,n,c),i=x.percentIncrease(a.atk,l);s.atk=Math.ceil(i+n.atk+c.atk);var o=this._sumStats("defPercent",a,n,c),u=x.percentIncrease(e.def,o);s.def=Math.ceil(u+t.def+n.def+c.def);var j=this._sumStats("hpPercent",a,n,c),d=x.percentIncrease(e.hp,j);return s.hp=Math.ceil(d+t.hp+n.hp+c.hp),s.critRate=this._sumStats("critRate",a,n,c),s.critDamage=this._sumStats("critDamage",a,n,c),s.elementalMastery=this._sumStats("elementalMastery",a,n,c),s.energyRecharge=this._sumStats("energyRecharge",a,n,c),s.healingBonus=this._sumStats("healingBonus",a,n,c),s.elementalBonus=this._sumStats("elementalBonus",a,n,c),this._roundStats(s)}},{key:"_sumStats",value:function(e){for(var t=0,a=arguments.length,n=new Array(a>1?a-1:0),c=1;c<a;c++)n[c-1]=arguments[c];return n.filter((function(t){return t[e]})).forEach((function(a){return t+=a[e]})),t}},{key:"_filledStats",value:function(e){var t={};return Object.keys(y).forEach((function(a){null==e[a]?t[a]=0:t[a]=e[a]})),t}},{key:"_roundStats",value:function(e){var t={},a={atk:0,def:0,hp:0,critRate:1,critDamage:1,elementalMastery:0,energyRecharge:1,healingBonus:1,elementalBonus:1};return Object.entries(e).forEach((function(e){var n=Object(i.a)(e,2),c=n[0],r=n[1],s=a[c];t[c]=x.roundToDecimals(r,s)})),t}}]),e}(),k=a(164),E=a(165),C=a(80),R=a(21),N=a(153),T=a(157),w=a(189),I=a(192),B=a(162),M=a(160),_=a(191),H=a(182),P=a(68),A=a.n(P),F=a(66),L=a.n(F),q=(a(109),a(2)),G=function(e){var t=e.defaultData,a=e.data,c=e.onData,r=e.readOnly,s=e.requiredStats,l=void 0===s?[]:s,o=e.title,u=function(e){return Object.entries(e).filter((function(e){var t=Object(i.a)(e,2),a=t[0];t[1];return-1===l.indexOf(a)})).map((function(e){var t=Object(i.a)(e,2);return{type:t[0],value:t[1]}}))},j=[];l.forEach((function(e){var a=j.findIndex((function(t){return t.type===e})),n=null!=t[e]?t[e]:0;-1===a&&j.push({type:e,value:n})})),t&&(j=[].concat(Object(R.a)(j),Object(R.a)(u(t))));var d=Object(n.useState)(j),O=Object(i.a)(d,2),f=O[0],h=O[1],m=Object(n.useState)(""),v=Object(i.a)(m,2),g=v[0],x=v[1];Object(n.useEffect)((function(){var e={};f.forEach((function(t){var a=t.type,n=t.value;return e[a]=n})),c&&c(e)}),[f,a]);var D=(r?u(a):f).filter((function(e){e.type;return null!=e.value})).map((function(e){var t=e.type,a=e.value,n=y[t],c=-1===l.indexOf(t),s=r?{variant:"h6"}:{};return Object(q.jsxs)(N.a,{row:!0,className:"statRow",children:[!r&&Object(q.jsx)(T.a,{"aria-label":"delete",disabled:!c,onClick:function(){return function(e){if(-1===l.indexOf(e)){var t=f.findIndex((function(t){return t.type===e}));-1!==t&&h([].concat(Object(R.a)(f.slice(0,t)),Object(R.a)(f.slice(t+1))))}}(t)},children:Object(q.jsx)(L.a,{})}),Object(q.jsx)(b.a,Object(C.a)(Object(C.a)({className:"statLabel"},s),{},{children:n})),Object(q.jsx)(w.a,{id:"".concat(t,"Input"),className:"statInput",type:"number",inputProps:{style:{textAlign:"right"}},value:a,readOnly:r,disabled:r,onChange:function(e){return function(e,t){var a=f.findIndex((function(e){return e.type===t}));if(-1!==a){var n={type:t,value:""===e.target.value?"":Number(e.target.value)};h([].concat(Object(R.a)(f.slice(0,a)),[n],Object(R.a)(f.slice(a+1))))}}(e,t)}})]},t)})),k=Object.entries(y).filter((function(e){var t=Object(i.a)(e,2),a=t[0];t[1];return-1===f.findIndex((function(e){return e.type===a}))})).map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(q.jsx)(I.a,{value:a,children:n},a)}));return Object(q.jsxs)(B.a,{className:"statPanel formPanel ".concat(r?"readOnly":""),children:[Object(q.jsx)(b.a,{variant:"h5",children:o}),Object(q.jsx)("div",{className:"appliedStats",children:D}),!r&&Object(q.jsxs)(N.a,{row:!0,className:"newStatForm",children:[Object(q.jsxs)(M.a,{className:"formSelect",children:[Object(q.jsx)(_.a,{id:"newStatTypeLabel",children:"New Stat"}),Object(q.jsx)(H.a,{id:"newStatType",labelId:"newStatTypeLabel",value:g,onChange:function(e){x(e.target.value)},children:k})]}),Object(q.jsx)(S.a,{variant:"contained",startIcon:Object(q.jsx)(A.a,{}),onClick:function(){return g?null!=f.find((function(e){return e.type===g}))?p.onError("Stat type already exists."):(h([].concat(Object(R.a)(f),[{type:g,value:0}])),void x("")):p.onError("Please select a stat type to add.")},children:"Add"})]})]})},J=function(e){var t=e.flowerStats,a=e.onFlowerStats,n=e.featherStats,c=e.onFeatherStats,r=e.timepieceStats,s=e.onTimepieceStats,l=e.gobletStats,i=e.onGobletStats,o=e.hatStats,u=e.onHatStats,j=e.setEffectsStats,d=e.onSetEffectsStats;return Object(q.jsxs)(k.a,{cellHeight:400,spacing:10,cols:3,children:[Object(q.jsx)(E.a,{cols:1,children:Object(q.jsx)(G,{title:"Flower",defaultData:t,onData:a,requiredStats:["hp"]})}),Object(q.jsx)(E.a,{cols:1,children:Object(q.jsx)(G,{title:"Feather",defaultData:n,onData:c,requiredStats:["atk"]})}),Object(q.jsx)(E.a,{cols:1,children:Object(q.jsx)(G,{title:"Timepiece",defaultData:r,onData:s})}),Object(q.jsx)(E.a,{cols:1,children:Object(q.jsx)(G,{title:"Goblet",defaultData:l,onData:i})}),Object(q.jsx)(E.a,{cols:1,children:Object(q.jsx)(G,{title:"Hat",defaultData:o,onData:u})}),Object(q.jsx)(E.a,{cols:1,children:Object(q.jsx)(G,{title:"Set Effects",defaultData:j,onData:d})})]})},z=function(e){var t=e.characterStats,a=e.onCharacterStats,n=e.weaponStats,c=e.onWeaponStats;return Object(q.jsxs)(k.a,{cellHeight:500,spacing:10,cols:2,children:[Object(q.jsx)(E.a,{cols:1,children:Object(q.jsx)(G,{title:"Character",defaultData:t,onData:a,requiredStats:["atk","def","hp","critRate","critDamage","energyRecharge"]})}),Object(q.jsx)(E.a,{cols:1,children:Object(q.jsx)(G,{title:"Weapon",defaultData:n,onData:c,requiredStats:["atk"]})})]})},U=(a(115),function(e){var t=e.defaultSpecialStat,a=void 0===t?{}:t,c=e.isCreationForm,r=e.onAdd,s=e.onDelete,l=e.onUpdate,o=function(){return-1===[O,v,k,B].indexOf("")},u=function(e){var t=J;return e&&(t=p.nextUniqueId("specialStat")),{uniqueId:t,finalStatType:O,percentChange:v,statGroup:k,statGroupType:B}},j=Object(n.useState)(a.finalStatType||""),d=Object(i.a)(j,2),O=d[0],f=d[1],h=Object(n.useState)(a.percentChange||""),m=Object(i.a)(h,2),v=m[0],g=m[1],x=Object(n.useState)(a.statGroup||""),D=Object(i.a)(x,2),k=D[0],E=D[1],C=Object(n.useState)(a.statGroupType||""),R=Object(i.a)(C,2),B=R[0],_=R[1],P=a.uniqueId;(null==P||c)&&(P=-1);var F=Object(n.useState)(P),G=Object(i.a)(F,2),J=G[0],z=G[1];Object(n.useEffect)((function(){if(!c){var e=u();if(!o())return p.onError("Please make sure all values are entered and valid.");l(e)}}),[O,v,k,B]);var U=Object.entries(y).map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(q.jsx)(I.a,{value:a,children:n},a)}));return Object(q.jsxs)(N.a,{row:!0,className:"newStatForm specialStatForm",children:[!c&&Object(q.jsx)(T.a,{"aria-label":"delete",onClick:function(){var e=u();s(e)},children:Object(q.jsx)(L.a,{})}),Object(q.jsx)(b.a,{children:"Increase"}),Object(q.jsx)(M.a,{className:"formSelect",children:Object(q.jsx)(H.a,{id:"finalStatType",value:O,onChange:function(e){f(e.target.value)},children:U})}),Object(q.jsx)(b.a,{children:"by"}),Object(q.jsx)(w.a,{id:"percentChange",type:"number",value:v,onChange:function(e){g(""===e.target.value?"":Number(e.target.value))}}),Object(q.jsx)(b.a,{children:"% of"}),Object(q.jsx)(M.a,{className:"formSelect",children:Object(q.jsxs)(H.a,{id:"statGroup",value:k,onChange:function(e){E(e.target.value)},children:[Object(q.jsx)(I.a,{value:"base",children:"Base"}),Object(q.jsx)(I.a,{value:"artifact",children:"Artifact"}),Object(q.jsx)(I.a,{value:"total",children:"Total"})]})}),Object(q.jsx)(M.a,{className:"formSelect",children:Object(q.jsx)(H.a,{id:"statGroupType",value:B,onChange:function(e){_(e.target.value)},children:U})}),c&&Object(q.jsx)(S.a,{variant:"contained",startIcon:Object(q.jsx)(A.a,{}),onClick:function(){var e=u(!0);if(!o())return p.onError("Please make sure all values are entered and valid.");f(""),g(""),E(""),_(""),z(-1),r(e)},children:"Add"})]})}),W=function(e){var t=e.defaultSpecialStats,a=e.onSpecialStats,c=Object(n.useState)(t),r=Object(i.a)(c,2),s=r[0],l=r[1];Object(n.useEffect)((function(){a&&a(s)}),[s]);var o=function(e){var t=s.findIndex((function(t){return e.uniqueId===t.uniqueId}));-1!==t&&l([].concat(Object(R.a)(s.slice(0,t)),Object(R.a)(s.slice(t+1))))},u=function(e){var t=s.findIndex((function(t){return e.uniqueId===t.uniqueId}));-1!==t&&l([].concat(Object(R.a)(s.slice(0,t)),[e],Object(R.a)(s.slice(t+1))))},j=s.map((function(e){return Object(q.jsx)(U,{defaultSpecialStat:e,onDelete:o,onUpdate:u},e.uniqueId)}));return Object(q.jsxs)(B.a,{className:"formPanel",children:[Object(q.jsx)(b.a,{variant:"h5",children:"Special Stats (Coming Soon)"}),Object(q.jsx)("div",{className:"appliedStats appliedSpecialStats",children:j}),Object(q.jsx)(U,{isCreationForm:!0,onAdd:function(e){l([].concat(Object(R.a)(s),[e]))}})]})},K=function(e){var t=e.miscStats,a=e.onMiscStats,n=e.specialStats,c=e.onSpecialStats;return Object(q.jsxs)(k.a,{cellHeight:300,spacing:10,cols:2,children:[Object(q.jsx)(E.a,{cols:1,children:Object(q.jsx)(G,{title:"Miscellaneous Stats",defaultData:t,onData:a})}),Object(q.jsx)(E.a,{cols:1,children:Object(q.jsx)(W,{defaultSpecialStats:n,onSpecialStats:c})})]})},V=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"capitalize",value:function(e){return e?"".concat(e[0].toUpperCase()).concat(e.slice(1)):e}}]),e}(),Z=a(90),Q=function(e){var t=e.defaultData,a=e.onData,c=Object(n.useState)(t.level),r=Object(i.a)(c,2),s=r[0],l=r[1],o=Object(n.useState)(t.weaponType),u=Object(i.a)(o,2),j=u[0],d=u[1];Object(n.useEffect)((function(){a({level:s,weaponType:j})}),[s,j]);var O=Object.keys(Z).map((function(e){return Object(q.jsx)(I.a,{value:e,children:V.capitalize(e)},e)}));return Object(q.jsxs)(B.a,{className:"formPanel",children:[Object(q.jsx)(b.a,{variant:"h5",children:"Character Info"}),Object(q.jsx)(w.a,{id:"characterLevel",label:"Level",type:"number",value:s,onChange:function(e){l(""===e.target.value?"":Number(e.target.value))}}),Object(q.jsxs)(M.a,{children:[Object(q.jsx)(_.a,{id:"weaponTypeLabel",children:"Weapon"}),Object(q.jsx)(H.a,{id:"weaponType",labelId:"weaponTypeLabel",value:j,onChange:function(e){d(e.target.value)},children:O})]})]})},X=a(166),Y=a(51),$=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"getDefaultErBonuses",value:function(){var e={};return Object.keys(Y.names).forEach((function(t){return e[t]=0})),e}},{key:"getEnemyDefense",value:function(e){return x.roundToDecimals(5*e+500,0)}},{key:"getEnemyDefenseMultiplier",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e=n>0?Math.round((t+100)/(t+a+200)):(t+100)/((1-n/100)*(a+100)+t+100),x.roundToDecimals(e,2)}},{key:"getEnemyResistanceMultiplier",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t-a;return e=n<0?1-n/100/2:n>=0&&n<75?1-n/100:1/(4*n/100+1),x.roundToDecimals(e,2)}},{key:"getTotalSkillDamage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,c=t+(n?a:0),r=x.percentIncrease(e,c);return x.roundToDecimals(r,2)}},{key:"getBaseNonCritDamage",value:function(e,t,a){var n=x.percentIncrease(e,t)*a;return x.roundToDecimals(n,0)}},{key:"getBaseCritDamage",value:function(e,t,a,n){var c=x.percentIncrease(e,t),r=x.percentIncrease(c,n)*a;return x.roundToDecimals(r,0)}},{key:"getAverageDamage",value:function(e,t,a){var n=e*((100-a)/100)+t*(a/100);return x.roundToDecimals(n,0)}},{key:"getDamageTypes",value:function(e,t,a){var n={anemo:["swirl"],cryo:["melt","superconduct"],dendro:[],electro:["overload","superconduct","electroCharge"],geo:["shatter"],hydro:["vaporize","electroCharge"],physical:["shatter"],pyro:["melt","vaporize","overload"]}[e]||[];return"claymore"!==t&&!a||-1!==n.indexOf("shatter")||n.push("shatter"),n.sort()}},{key:"getReactionMultiplierPercent",value:function(e,t){return"melt"===e||"vaporize"===e?"pyro"===t?200:150:0}},{key:"getElementalMasteryMultiplier",value:function(e,t){var a=1;"vaporize"===e||"melt"===e?a=2.78:-1!==["overload","superconduct","electroCharge","shatter","swirl"].indexOf(e)&&(a=6.66);var n=a*t/(1400+t)*100;return x.roundToDecimals(n,1)}},{key:"getElementalReactionDamage",value:function(e,t,a,n,c,r){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if("vaporize"===e||"melt"===e){var l=x.percentIncrease(t,n+c),i=x.percentIncrease(l,s);return x.roundToDecimals(i,0)}var o=this._getTransformativeReactionDamage(e,a),u=x.percentIncrease(o,c),j=x.percentIncrease(u,s);return x.roundToDecimals(j*r,0)}},{key:"_getTransformativeReactionDamage",value:function(e,t){var a=(Y.superconduct[t-1]||0)*Y.multipliers[e]||0;return x.roundToDecimals(a,0)}}]),e}(),ee=function(e){var t=e.defaultData,a=e.onData,c=e.character,r=Object(n.useState)(t.level),s=Object(i.a)(r,2),l=s[0],o=s[1],u=Object(n.useState)(t.elementalRes),j=Object(i.a)(u,2),d=j[0],O=j[1],f=Object(n.useState)(t.elementalResReduction),h=Object(i.a)(f,2),m=h[0],p=h[1],v=Object(n.useState)(t.defenseReduction),S=Object(i.a)(v,2),g=S[0],x=S[1],y=Object(n.useState)($.getEnemyDefense(l)),D=Object(i.a)(y,2),k=D[0],E=D[1],C=Object(n.useState)($.getEnemyDefenseMultiplier(c.level,l,g)),R=Object(i.a)(C,2),N=R[0],T=R[1],I=Object(n.useState)($.getEnemyResistanceMultiplier(d,m)),M=Object(i.a)(I,2),_=M[0],H=M[1];Object(n.useEffect)((function(){E($.getEnemyDefense(l))}),[l]),Object(n.useEffect)((function(){T($.getEnemyDefenseMultiplier(c.level,l,g))}),[c,l,g]),Object(n.useEffect)((function(){H($.getEnemyResistanceMultiplier(d,m))}),[d,m]),Object(n.useEffect)((function(){a({level:l,elementalRes:d,elementalResReduction:m,defenseReduction:g,defense:k,defenseMult:N,resMult:_})}),[l,d,m,g,k,N,_]);return Object(q.jsxs)(B.a,{className:"formPanel",children:[Object(q.jsx)(b.a,{variant:"h5",children:"Enemy Info"}),Object(q.jsx)(w.a,{id:"enemyLevel",label:"Level",type:"number",value:l,onChange:function(e){o(""===e.target.value?"":Number(e.target.value))}}),Object(q.jsx)(w.a,{id:"elementalRes",label:"Elemental Resistance (%)",type:"number",value:d,onChange:function(e){O(""===e.target.value?"":Number(e.target.value))}}),Object(q.jsx)(w.a,{id:"elementalResReduction",label:"Elemental Resistance Reduction (%)",type:"number",value:m,onChange:function(e){p(""===e.target.value?"":Number(e.target.value))}}),Object(q.jsx)(w.a,{id:"defenseReduction",label:"Defense Reduction (%)",type:"number",value:g,onChange:function(e){x(""===e.target.value?"":Number(e.target.value))}}),Object(q.jsx)(X.a,{className:"panelDivider"}),Object(q.jsx)(w.a,{readOnly:!0,disabled:!0,id:"enemyDefense",label:"Defense",type:"number",value:k}),Object(q.jsx)(w.a,{readOnly:!0,disabled:!0,id:"enemyDefenseMult",label:"Defense Multiplier",type:"number",value:N}),Object(q.jsx)(w.a,{readOnly:!0,disabled:!0,id:"enemyResMult",label:"Resistance Multiplier",type:"number",value:_})]})},te=a(186),ae=a(167),ne=a(91),ce=function(e){var t=e.defaultData,a=e.onData,c=e.elementalBonus,r=Object(n.useState)(t.damage),s=Object(i.a)(r,2),l=s[0],o=s[1],u=Object(n.useState)(t.bonusDamage),j=Object(i.a)(u,2),d=j[0],O=j[1],f=Object(n.useState)(t.element),h=Object(i.a)(f,2),m=h[0],p=h[1],v=Object(n.useState)(t.doesShatter),S=Object(i.a)(v,2),g=S[0],x=S[1],y=Object(n.useState)(t.doesApplyElementalBonus),D=Object(i.a)(y,2),k=D[0],E=D[1],C=Object(n.useState)($.getTotalSkillDamage(l,d,c,k)),R=Object(i.a)(C,2),N=R[0],T=R[1];Object(n.useEffect)((function(){T($.getTotalSkillDamage(l,d,c,k))}),[l,d,c,k]),Object(n.useEffect)((function(){a({damage:l,bonusDamage:d,element:m,doesShatter:g,doesApplyElementalBonus:k,totalDamage:N})}),[l,d,m,g,k,N]);var P=Object.keys(ne).map((function(e){return Object(q.jsx)(I.a,{value:e,children:V.capitalize(e)},e)})),A=Object(q.jsx)(te.a,{checked:g,onChange:function(e){x(e.target.checked)}}),F=Object(q.jsx)(te.a,{checked:k,onChange:function(e){E(e.target.checked)}});return Object(q.jsxs)(B.a,{className:"formPanel",children:[Object(q.jsx)(b.a,{variant:"h5",children:"Skill Info"}),Object(q.jsx)(w.a,{id:"skillDamage",label:"Damage (%)",type:"number",value:l,onChange:function(e){o(""===e.target.value?"":Number(e.target.value))}}),Object(q.jsx)(w.a,{id:"bonusDamage",label:"Bonus Damage (%)",type:"number",value:d,onChange:function(e){O(""===e.target.value?"":Number(e.target.value))}}),Object(q.jsxs)(M.a,{children:[Object(q.jsx)(_.a,{id:"elementLabel",children:"Element"}),Object(q.jsx)(H.a,{id:"element",labelId:"elementLabel",value:m,onChange:function(e){p(e.target.value)},children:P})]}),Object(q.jsx)(ae.a,{control:A,label:"Damage Shatters"}),Object(q.jsx)(ae.a,{control:F,label:"Apply Elemental Bonus"}),Object(q.jsx)(X.a,{className:"panelDivider"}),Object(q.jsx)(w.a,{readOnly:!0,disabled:!0,id:"totalDamage",label:"Total Damage (%)",type:"number",value:N})]})},re=function(e){var t=e.character,a=e.onCharacter,n=e.enemy,c=e.onEnemy,r=e.skill,s=e.onSkill,l=e.elementalBonus;return Object(q.jsxs)(k.a,{cellHeight:500,spacing:10,cols:3,children:[Object(q.jsx)(E.a,{cols:1,children:Object(q.jsx)(Q,{defaultData:t,onData:a})}),Object(q.jsx)(E.a,{cols:1,children:Object(q.jsx)(ee,{defaultData:n,onData:c,character:t})}),Object(q.jsx)(E.a,{cols:1,children:Object(q.jsx)(ce,{defaultData:r,onData:s,elementalBonus:l})})]})},se=a(168),le=a(169),ie=a(170),oe=a(171),ue=a(172),je=a(173),de=(a(116),function(e){var t=e.character,a=e.enemy,c=e.skill,r=e.finalStats,s=e.defaultErBonuses,l=e.onErBonuses,o=Object(n.useState)(s),u=Object(i.a)(o,2),j=u[0],d=u[1];Object(n.useEffect)((function(){l(j)}),[j]);var b=$.getDamageTypes(c.element,t.weaponType,c.doesShatter)||[],O=$.getBaseNonCritDamage(r.atk,c.totalDamage,a.defenseMult),f=$.getBaseCritDamage(r.atk,c.totalDamage,a.defenseMult,r.critDamage),h=$.getAverageDamage(O,f,r.critRate),m=Object(q.jsxs)(se.a,{children:[Object(q.jsx)(le.a,{component:"th",scope:"row",children:"Base Damage"}),Object(q.jsx)(le.a,{children:"0"}),Object(q.jsx)(le.a,{children:"0"}),Object(q.jsx)(le.a,{children:"0"}),Object(q.jsx)(le.a,{children:O}),Object(q.jsx)(le.a,{children:f}),Object(q.jsx)(le.a,{children:h})]}),p=b.map((function(e){var n=$.getReactionMultiplierPercent(e,c.element),s=$.getElementalMasteryMultiplier(e,r.elementalMastery),l=j[e]||0,i=$.getElementalReactionDamage(e,O,t.level,n,s,a.resMult,l),o=$.getElementalReactionDamage(e,f,t.level,n,s,a.resMult,l),u=$.getAverageDamage(i,o,r.critRate);return Object(q.jsxs)(se.a,{children:[Object(q.jsx)(le.a,{component:"th",scope:"row",children:Y.names[e]}),Object(q.jsx)(le.a,{children:n}),Object(q.jsx)(le.a,{children:s}),Object(q.jsx)(le.a,{children:Object(q.jsx)(w.a,{id:"erBonus",type:"number",value:j[e],onChange:function(t){return function(e,t){j[t]=""===e.target.value?"":Number(e.target.value);var a=Object.assign({},j);d(a)}(t,e)}})}),"melt"===e||"vaporize"===e?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(le.a,{children:i}),Object(q.jsx)(le.a,{children:o}),Object(q.jsx)(le.a,{children:u})]}):Object(q.jsx)(le.a,{colSpan:3,children:i})]},e)}));return Object(q.jsx)(ie.a,{className:"expectedDamageTab",component:B.a,children:Object(q.jsxs)(oe.a,{children:[Object(q.jsx)(ue.a,{children:Object(q.jsxs)(se.a,{children:[Object(q.jsx)(le.a,{children:"Damage Type"}),Object(q.jsx)(le.a,{children:"Reaction Multiplier (%)"}),Object(q.jsx)(le.a,{children:"Elemental Mastery Multiplier (%)"}),Object(q.jsx)(le.a,{children:"Elemental Reaction Bonus (%)"}),Object(q.jsx)(le.a,{children:"Non-Crit"}),Object(q.jsx)(le.a,{children:"Crit"}),Object(q.jsx)(le.a,{children:"Average"})]})}),Object(q.jsxs)(je.a,{children:[m,p]})]})})}),be=a(187),Oe=a(174),fe=a(175),he=a(176),me=a(177),pe=a(92),ve=a.n(pe),Se=a(93),ge=a.n(Se),xe=function(e){var t=e.open,a=e.setOpen,c=e.saveData,r=Object(n.useState)(!1),s=Object(i.a)(r,2),l=s[0],o=s[1],u=JSON.stringify(c,null,2),j=function(e){var t=btoa(JSON.stringify(e)),a=window.location,n=a.protocol,c=a.host,r=a.pathname;return"".concat(n,"://").concat(c).concat(r,"?data=").concat(t)}(c);Object(n.useEffect)((function(){l&&(b.current.select(),document.execCommand("copy"),p.onSuccess("Copied data to clipboard!"),o(!1))}),[l]);var d=Object(n.useRef)(null),b=Object(n.useRef)(null),O=l?null:{display:"none"};return t?Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(be.a,{fullWidth:!0,open:t,onClose:function(){return a(!1)},children:[Object(q.jsx)(Oe.a,{id:"saveDataTitle",children:"Save Data"}),Object(q.jsxs)(fe.a,{children:[Object(q.jsx)(he.a,{children:"Copy-paste the output below to load your artifacts into the app next time."}),Object(q.jsx)(w.a,{readOnly:!0,fullWidth:!0,multiline:!0,id:"saveData",className:"saveData",label:"Save Data",margin:"dense",inputRef:d,value:u,inputProps:{style:{fontFamily:"source-code-pro, monospace"}}}),Object(q.jsx)(w.a,{readOnly:!0,fullWidth:!0,id:"link",label:"Link",inputRef:b,style:O,value:j})]}),Object(q.jsxs)(me.a,{children:[Object(q.jsx)(S.a,{variant:"contained",startIcon:Object(q.jsx)(ve.a,{}),onClick:function(e){d.current.select(),document.execCommand("copy"),e.target.focus(),p.onSuccess("Copied data to clipboard!")},children:"Copy to Clipboard"}),Object(q.jsx)(S.a,{variant:"contained",startIcon:Object(q.jsx)(ge.a,{}),onClick:function(){o(!0)},children:"Copy Link to Clipboard"}),Object(q.jsx)(S.a,{variant:"contained",onClick:function(){return a(!1)},children:"Ok"})]})]})}):null},ye=function(e){var t=e.baseStats,a=e.artifactsStats,n=e.finalStats;return Object(q.jsxs)(k.a,{cellHeight:500,spacing:10,cols:3,children:[Object(q.jsx)(E.a,{cols:1,children:Object(q.jsx)(G,{readOnly:!0,title:"Base Stat Totals",data:t})}),Object(q.jsx)(E.a,{cols:1,children:Object(q.jsx)(G,{readOnly:!0,title:"Artifact Totals",data:a})}),Object(q.jsx)(E.a,{cols:1,children:Object(q.jsx)(G,{readOnly:!0,title:"Final Stats",data:n})})]})},De=a(79),ke=new(function(){function e(){Object(h.a)(this,e);try{De.a.initialize("G-SZJNJJP2JP")}catch(t){this._isDisabled=!0}}return Object(m.a)(e,[{key:"logEvent",value:function(e){this._isDisabled||De.a.event(e)}}]),e}()),Ee=(a(117),function(e){var t=e.data,a=Object(n.useState)(!1),c=Object(i.a)(a,2),r=c[0],s=c[1],l=Object(n.useState)({}),o=Object(i.a)(l,2),u=o[0],j=o[1],d=Object(n.useState)(0),O=Object(i.a)(d,2),f=O[0],h=O[1],m=Object(n.useState)(t.character||{level:90,weaponType:""}),p=Object(i.a)(m,2),x=p[0],y=p[1],k=Object(n.useState)(t.enemy||{level:83,elementalRes:10,elementalResReduction:0,defenseReduction:0}),E=Object(i.a)(k,2),C=E[0],R=E[1],N=Object(n.useState)(t.skill||{damage:0,bonusDamage:0,element:"",doesShatter:!1,doesApplyElementalBonus:!0}),T=Object(i.a)(N,2),w=T[0],I=T[1],B=Object(n.useState)(t.characterStats||{atk:0,def:0,hp:0,critRate:5,critDamage:50,energyRecharge:100}),M=Object(i.a)(B,2),_=M[0],H=M[1],P=Object(n.useState)(t.weaponStats||{}),A=Object(i.a)(P,2),F=A[0],L=A[1],G=Object(n.useState)(t.setEffectsStats||{}),U=Object(i.a)(G,2),W=U[0],V=U[1],Z=Object(n.useState)(t.flowerStats||{hp:0}),Q=Object(i.a)(Z,2),X=Q[0],Y=Q[1],ee=Object(n.useState)(t.featherStats||{atk:0}),te=Object(i.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)(t.timepieceStats||{}),se=Object(i.a)(ce,2),le=se[0],ie=se[1],oe=Object(n.useState)(t.gobletStats||{}),ue=Object(i.a)(oe,2),je=ue[0],be=ue[1],Oe=Object(n.useState)(t.hatStats||{}),fe=Object(i.a)(Oe,2),he=fe[0],me=fe[1],pe=Object(n.useState)(t.miscStats||{}),ve=Object(i.a)(pe,2),Se=ve[0],ge=ve[1],De=Object(n.useState)(t.specialStats||[]),Ee=Object(i.a)(De,2),Ce=Ee[0],Re=Ee[1],Ne=Object(n.useState)(t.erBonuses||$.getDefaultErBonuses()),Te=Object(i.a)(Ne,2),we=Te[0],Ie=Te[1],Be=Object(n.useState)({}),Me=Object(i.a)(Be,2),_e=Me[0],He=Me[1],Pe=Object(n.useState)({}),Ae=Object(i.a)(Pe,2),Fe=Ae[0],Le=Ae[1],qe=Object(n.useState)({}),Ge=Object(i.a)(qe,2),Je=Ge[0],ze=Ge[1];Object(n.useEffect)((function(){He(D.addStats(_,F)),Le(D.addStats(X,ae,le,je,he,W))}),[_,F,X,ae,le,je,he,W,Se,Ce]),Object(n.useEffect)((function(){ze(D.getFinalStats(_,F,_e,Fe,Se,Ce))}),[_,F,_e,Fe,Se,Ce]);var Ue=["Damage Info","Base Stats","Artifacts","Bonuses","Totals","Damage"],We=Ue.map((function(e){return Object(q.jsx)(v.a,{label:e},e)})),Ke=[Object(q.jsx)(re,{character:x,onCharacter:y,enemy:C,onEnemy:R,skill:w,onSkill:I,elementalBonus:Je.elementalBonus},"damage"),Object(q.jsx)(z,{characterStats:_,onCharacterStats:H,weaponStats:F,onWeaponStats:L},"baseStats"),Object(q.jsx)(J,{flowerStats:X,onFlowerStats:Y,featherStats:ae,onFeatherStats:ne,timepieceStats:le,onTimepieceStats:ie,gobletStats:je,onGobletStats:be,hatStats:he,onHatStats:me,setEffectsStats:W,onSetEffectsStats:V},"artifacts"),Object(q.jsx)(K,{miscStats:Se,onMiscStats:ge,specialStats:Ce,onSpecialStats:Re},"bonusStats"),Object(q.jsx)(ye,{baseStats:_e,artifactsStats:Fe,finalStats:Je},"totals"),Object(q.jsx)(de,{character:x,enemy:C,skill:w,finalStats:Je,defaultErBonuses:we,onErBonuses:Ie})];return Object(q.jsxs)("div",{className:"calculator",children:[Object(q.jsxs)("header",{children:[Object(q.jsxs)("div",{className:"headerLeft",children:[Object(q.jsx)(b.a,{variant:"h4",gutterBottom:!0,children:"Genshin Impact Damage Calculator"}),Object(q.jsx)("div",{className:"headerActions",children:Object(q.jsx)(S.a,{variant:"contained",onClick:function(){var e={character:x,skill:w,characterStats:_,weaponStats:F,setEffectsStats:W,flowerStats:X,featherStats:ae,timepieceStats:le,gobletStats:je,hatStats:he,miscStats:Se,specialStats:Ce,erBonuses:we};j(e),s(!0),ke.logEvent({category:"User",action:"Save",label:btoa(JSON.stringify(e,null,2))})},children:"Save"})})]}),Object(q.jsx)(g.a,{variant:"scrollable",scrollButtons:"auto",value:f,onChange:function(e,t){ke.logEvent({category:"Navigation",action:"Tab Switch",label:Ue[t]}),h(t)},children:We})]}),Object(q.jsx)("div",{className:"tabContent",children:Ke[f]}),Object(q.jsx)(xe,{open:r,setOpen:s,saveData:u})]})}),Ce=(a(118),function(e){var t=e.open,a=e.setOpen,c=e.onSaveDataSubmit,r=Object(n.useState)(""),s=Object(i.a)(r,2),l=s[0],o=s[1],u=Object(n.useState)(""),j=Object(i.a)(u,2),d=j[0],b=j[1];Object(n.useEffect)((function(){o("")}),[d]);var O=function(){try{var e=JSON.parse(d);a(!1),c(e),ke.logEvent({category:"User",action:"Load",label:btoa(JSON.stringify(e,null,2))})}catch(t){o("Could not parse save data, please check that it is correctly formatted.")}};return Object(q.jsxs)(be.a,{fullWidth:!0,open:t,onClose:function(){return a(!1)},children:[Object(q.jsx)(Oe.a,{id:"saveDataTitle",children:"Load Save Data"}),Object(q.jsxs)(fe.a,{children:[Object(q.jsx)(he.a,{children:"If you have save data from previously using the app, copy-paste it below."}),Object(q.jsx)(w.a,{autoFocus:!0,fullWidth:!0,multiline:!0,id:"saveData",label:"Save Data",margin:"dense",onChange:function(e){return b(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),O())}}),l&&Object(q.jsx)(he.a,{color:"error",children:l})]}),Object(q.jsxs)(me.a,{children:[Object(q.jsx)(S.a,{onClick:function(){return a(!1)},children:"Cancel"}),Object(q.jsx)(S.a,{onClick:O,children:"Load"})]})]})}),Re=function(e){var t=e.loadApp,a=Object(n.useState)(!1),c=Object(i.a)(a,2),r=c[0],s=c[1];return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("div",{className:"welcome",children:[Object(q.jsx)(b.a,{variant:"h2",gutterBottom:!0,children:"Genshin Impact Damage Calculator"}),Object(q.jsxs)("div",{className:"actionButtons",children:[Object(q.jsx)(S.a,{variant:"contained",color:"primary",onClick:function(){return s(!0)},children:"Load Save"}),Object(q.jsx)(S.a,{variant:"contained",onClick:t,children:"Get Started"})]})]}),Object(q.jsx)(Ce,{open:r,setOpen:s,onSaveDataSubmit:t})]})},Ne=(a(119),a(184)),Te=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)({}),l=Object(i.a)(s,2),h=l[0],m=l[1],v=Object(n.useState)(!1),S=Object(i.a)(v,2),g=S[0],x=S[1],y=Object(n.useState)(""),D=Object(i.a)(y,2),k=D[0],E=D[1],C=Object(n.useState)(!1),R=Object(i.a)(C,2),N=R[0],T=R[1],w=Object(n.useState)(""),I=Object(i.a)(w,2),B=I[0],M=I[1],_=Object(o.e)(),H=Object(o.d)(),P=new URLSearchParams(_.search);Object(n.useEffect)((function(){if(p.registerSuccessHandler(F),p.registerErrorHandler(L),P.has("data")){try{var e=JSON.parse(atob(P.get("data")));G(e)}catch(t){p.onError("There was a problem loading the data from the URL.")}P.delete("data"),H.push("")}}),[]);var A=c.a.useMemo((function(){return Object(u.a)({palette:{type:"dark"}})})),F=function(e){E(e),x(!0)},L=function(e){M(e),T(!0)},G=function(e){m(Object.assign(h,e)),r(!0)};return Object(q.jsxs)(j.a,{theme:A,children:[Object(q.jsx)(d.a,{}),Object(q.jsxs)("div",{className:"app",children:[a?Object(q.jsx)(Ee,{data:h}):Object(q.jsx)(Re,{loadApp:G}),Object(q.jsx)("div",{className:"credits",children:Object(q.jsxs)(b.a,{children:["View on ",Object(q.jsx)(O.a,{href:"https://github.com/knazir/genshin-calc",target:"_blank",children:"GitHub"})]})})]}),Object(q.jsx)(f.a,{open:g,autoHideDuration:3e3,onClose:function(){return x(!1)},children:Object(q.jsx)(Ne.a,{onClose:function(){return x(!1)},severity:"success",children:k})}),Object(q.jsx)(f.a,{open:N,autoHideDuration:3e3,onClose:function(){return T(!1)},children:Object(q.jsx)(Ne.a,{onClose:function(){return T(!1)},severity:"error",children:B})})]})};a(122);s.a.render(Object(q.jsx)(l.a,{children:Object(q.jsx)(Te,{})}),document.getElementById("root"))},43:function(e){e.exports=JSON.parse('{"atk":"ATK","atkPercent":"ATK %","def":"DEF","defPercent":"DEF %","hp":"HP","hpPercent":"HP %","critRate":"CRIT Rate %","critDamage":"CRIT DMG %","elementalMastery":"Elemental Mastery","energyRecharge":"Energy Recharge %","healingBonus":"Healing Bonus %","elementalBonus":"Elemental DMG %"}')},51:function(e){e.exports=JSON.parse('{"names":{"electroCharge":"Electro-Charge","melt":"Melt","overload":"Overload","shatter":"Shatter","superconduct":"Superconduct","swirl":"Swirl","vaporize":"Vaporize"},"multipliers":{"electroCharge":2.4,"melt":0,"overload":4,"shatter":3,"superconduct":1,"swirl":1.2,"vaporize":0},"superconduct":[8,9,9,10,11,12,12,13,16,17,18,20,22,23,27,29,31,34,37,40,42,46,48,51,53,56,59,61,64,68,71,74,77,80,84,88,91,96,99,103,107,111,117,121,128,133,140,147,154,161,168,174,182,189,199,208,217,226,236,244,254,266,278,290,303,314,326,337,348,360,371,382,391,401,414,427,438,450,461,472,483,494,507,518,532,544,557,570,586,601]}')},90:function(e){e.exports=JSON.parse('{"bow":null,"catalyst":null,"claymore":null,"polearm":null,"sword":null}')},91:function(e){e.exports=JSON.parse('{"anemo":null,"cryo":null,"dendro":null,"electro":null,"geo":null,"hydro":null,"physical":null,"pyro":null}')}},[[123,1,2]]]);
//# sourceMappingURL=main.1d2bcfd5.chunk.js.map