(this["webpackJsonpgenshin-calc"]=this["webpackJsonpgenshin-calc"]||[]).push([[0],{101:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(13),s=a.n(r),l=a(7),i=a(86),u=a(169),o=a(170),j=a(62),b=a(171),d=a(178),O=a(22),f=a(23),h=new(function(){function e(){Object(O.a)(this,e),this._successHandler=null,this._errorHandler=null,this._uniqueIds={}}return Object(f.a)(e,[{key:"nextUniqueId",value:function(e){this._uniqueIds[e]||(this._uniqueIds[e]=1);var t=this._uniqueIds[e];return this._uniqueIds[e]++,"".concat(e,"_").concat(t)}},{key:"registerSuccessHandler",value:function(e){this._successHandler=e}},{key:"registerErrorHandler",value:function(e){this._errorHandler=e}},{key:"onSuccess",value:function(e){this._successHandler&&this._successHandler(e)}},{key:"onError",value:function(e){this._errorHandler&&this._errorHandler(e)}}]),e}()),m=a(168),v=a(153),p=a(173),S=function(){function e(){Object(O.a)(this,e)}return Object(f.a)(e,null,[{key:"roundToDecimals",value:function(e,t){for(var a=1,n=0;n<t;n++)a*=10;return Math.round(e*a)/a}},{key:"percentIncrease",value:function(e,t){return e*(1+t/100)}}]),e}(),g=a(37),x=function(){function e(){Object(O.a)(this,e)}return Object(f.a)(e,null,[{key:"addStats",value:function(){for(var e=this._filledStats({}),t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return a.forEach((function(t){Object.entries(t).forEach((function(t){var a=Object(l.a)(t,2),n=a[0],c=a[1];e[n]=null==e[n]?c:e[n]+c}))})),this._roundStats(e)}},{key:"getFinalStats",value:function(e,t,a,n,c,r){e=this._filledStats(e),t=this._filledStats(t),a=this._filledStats(a),n=this._filledStats(n),c=this._filledStats(c);var s={},l=this._sumStats("atkPercent",a,n,c),i=S.percentIncrease(a.atk,l);s.atk=Math.ceil(i+n.atk+c.atk);var u=this._sumStats("defPercent",a,n,c),o=S.percentIncrease(e.def,u);s.def=Math.ceil(o+t.def+n.def+c.def);var j=this._sumStats("hpPercent",a,n,c),b=S.percentIncrease(e.hp,j);return s.hp=Math.ceil(b+t.hp+n.hp+c.hp),s.critRate=this._sumStats("critRate",a,n,c),s.critDamage=this._sumStats("critDamage",a,n,c),s.elementalMastery=this._sumStats("elementalMastery",a,n,c),s.energyRecharge=this._sumStats("energyRecharge",a,n,c),s.healingBonus=this._sumStats("healingBonus",a,n,c),s.elementalBonus=this._sumStats("elementalBonus",a,n,c),this._roundStats(s)}},{key:"_sumStats",value:function(e){for(var t=0,a=arguments.length,n=new Array(a>1?a-1:0),c=1;c<a;c++)n[c-1]=arguments[c];return n.filter((function(t){return t[e]})).forEach((function(a){return t+=a[e]})),t}},{key:"_filledStats",value:function(e){var t={};return Object.keys(g).forEach((function(a){null==e[a]?t[a]=0:t[a]=e[a]})),t}},{key:"_roundStats",value:function(e){var t={},a={atk:0,def:0,hp:0,critRate:1,critDamage:1,elementalMastery:0,energyRecharge:1,healingBonus:1,elementalBonus:1};return Object.entries(e).forEach((function(e){var n=Object(l.a)(e,2),c=n[0],r=n[1],s=a[c];t[c]=S.roundToDecimals(r,s)})),t}}]),e}(),y=a(154),D=a(155),k=a(72),E=a(18),C=a(143),R=a(147),T=a(179),N=a(182),I=a(152),w=a(150),B=a(181),M=a(172),_=a(60),H=a.n(_),A=a(58),P=a.n(A),F=(a(101),a(2)),q=function(e){var t=e.defaultData,a=e.data,c=e.onData,r=e.readOnly,s=e.requiredStats,i=void 0===s?[]:s,u=e.title,o=function(e){return Object.entries(e).filter((function(e){var t=Object(l.a)(e,2),a=t[0];t[1];return-1===i.indexOf(a)})).map((function(e){var t=Object(l.a)(e,2);return{type:t[0],value:t[1]}}))},b=[];i.forEach((function(e){var a=b.findIndex((function(t){return t.type===e})),n=null!=t[e]?t[e]:0;-1===a&&b.push({type:e,value:n})})),t&&(b=[].concat(Object(E.a)(b),Object(E.a)(o(t))));var d=Object(n.useState)(b),O=Object(l.a)(d,2),f=O[0],m=O[1],p=Object(n.useState)(""),S=Object(l.a)(p,2),x=S[0],y=S[1];Object(n.useEffect)((function(){var e={};f.forEach((function(t){var a=t.type,n=t.value;return e[a]=n})),c&&c(e)}),[f,a]);var D=(r?o(a):f).filter((function(e){e.type;return null!=e.value})).map((function(e){var t=e.type,a=e.value,n=g[t],c=-1===i.indexOf(t),s=r?{variant:"h6"}:{};return Object(F.jsxs)(C.a,{row:!0,className:"statRow",children:[!r&&Object(F.jsx)(R.a,{"aria-label":"delete",disabled:!c,onClick:function(){return function(e){if(-1===i.indexOf(e)){var t=f.findIndex((function(t){return t.type===e}));-1!==t&&m([].concat(Object(E.a)(f.slice(0,t)),Object(E.a)(f.slice(t+1))))}}(t)},children:Object(F.jsx)(P.a,{})}),Object(F.jsx)(j.a,Object(k.a)(Object(k.a)({className:"statLabel"},s),{},{children:n})),Object(F.jsx)(T.a,{id:"".concat(t,"Input"),className:"statInput",type:"number",inputProps:{style:{textAlign:"right"}},value:a,readOnly:r,disabled:r,onChange:function(e){return function(e,t){var a=f.findIndex((function(e){return e.type===t}));if(-1!==a){var n={type:t,value:""===e.target.value?"":Number(e.target.value)};m([].concat(Object(E.a)(f.slice(0,a)),[n],Object(E.a)(f.slice(a+1))))}}(e,t)}})]},t)})),_=Object.entries(g).filter((function(e){var t=Object(l.a)(e,2),a=t[0];t[1];return-1===f.findIndex((function(e){return e.type===a}))})).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return Object(F.jsx)(N.a,{value:a,children:n},a)}));return Object(F.jsxs)(I.a,{className:"statPanel formPanel ".concat(r?"readOnly":""),children:[Object(F.jsx)(j.a,{variant:"h5",children:u}),Object(F.jsx)("div",{className:"appliedStats",children:D}),!r&&Object(F.jsxs)(C.a,{row:!0,className:"newStatForm",children:[Object(F.jsxs)(w.a,{className:"formSelect",children:[Object(F.jsx)(B.a,{id:"newStatTypeLabel",children:"New Stat"}),Object(F.jsx)(M.a,{id:"newStatType",labelId:"newStatTypeLabel",value:x,onChange:function(e){y(e.target.value)},children:_})]}),Object(F.jsx)(v.a,{variant:"contained",startIcon:Object(F.jsx)(H.a,{}),onClick:function(){return x?null!=f.find((function(e){return e.type===x}))?h.onError("Stat type already exists."):(m([].concat(Object(E.a)(f),[{type:x,value:0}])),void y("")):h.onError("Please select a stat type to add.")},children:"Add"})]})]})},G=function(e){var t=e.flowerStats,a=e.onFlowerStats,n=e.featherStats,c=e.onFeatherStats,r=e.timepieceStats,s=e.onTimepieceStats,l=e.gobletStats,i=e.onGobletStats,u=e.hatStats,o=e.onHatStats,j=e.setEffectsStats,b=e.onSetEffectsStats;return Object(F.jsxs)(y.a,{cellHeight:400,spacing:10,cols:3,children:[Object(F.jsx)(D.a,{cols:1,children:Object(F.jsx)(q,{title:"Flower",defaultData:t,onData:a,requiredStats:["hp"]})}),Object(F.jsx)(D.a,{cols:1,children:Object(F.jsx)(q,{title:"Feather",defaultData:n,onData:c,requiredStats:["atk"]})}),Object(F.jsx)(D.a,{cols:1,children:Object(F.jsx)(q,{title:"Timepiece",defaultData:r,onData:s})}),Object(F.jsx)(D.a,{cols:1,children:Object(F.jsx)(q,{title:"Goblet",defaultData:l,onData:i})}),Object(F.jsx)(D.a,{cols:1,children:Object(F.jsx)(q,{title:"Hat",defaultData:u,onData:o})}),Object(F.jsx)(D.a,{cols:1,children:Object(F.jsx)(q,{title:"Set Effects",defaultData:j,onData:b})})]})},L=function(e){var t=e.characterStats,a=e.onCharacterStats,n=e.weaponStats,c=e.onWeaponStats;return Object(F.jsxs)(y.a,{cellHeight:500,spacing:10,cols:2,children:[Object(F.jsx)(D.a,{cols:1,children:Object(F.jsx)(q,{title:"Character",defaultData:t,onData:a,requiredStats:["atk","def","hp","critRate","critDamage","energyRecharge"]})}),Object(F.jsx)(D.a,{cols:1,children:Object(F.jsx)(q,{title:"Weapon",defaultData:n,onData:c,requiredStats:["atk"]})})]})},z=(a(107),function(e){var t=e.defaultSpecialStat,a=void 0===t?{}:t,c=e.isCreationForm,r=e.onAdd,s=e.onDelete,i=e.onUpdate,u=function(){return-1===[O,S,k,_].indexOf("")},o=function(e){var t=z;return e&&(t=h.nextUniqueId("specialStat")),{uniqueId:t,finalStatType:O,percentChange:S,statGroup:k,statGroupType:_}},b=Object(n.useState)(a.finalStatType||""),d=Object(l.a)(b,2),O=d[0],f=d[1],m=Object(n.useState)(a.percentChange||""),p=Object(l.a)(m,2),S=p[0],x=p[1],y=Object(n.useState)(a.statGroup||""),D=Object(l.a)(y,2),k=D[0],E=D[1],I=Object(n.useState)(a.statGroupType||""),B=Object(l.a)(I,2),_=B[0],A=B[1],q=a.uniqueId;(null==q||c)&&(q=-1);var G=Object(n.useState)(q),L=Object(l.a)(G,2),z=L[0],J=L[1];Object(n.useEffect)((function(){if(!c){var e=o();if(!u())return h.onError("Please make sure all values are entered and valid.");i(e)}}),[O,S,k,_]);var W=Object.entries(g).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return Object(F.jsx)(N.a,{value:a,children:n},a)}));return Object(F.jsxs)(C.a,{row:!0,className:"newStatForm specialStatForm",children:[!c&&Object(F.jsx)(R.a,{"aria-label":"delete",onClick:function(){var e=o();s(e)},children:Object(F.jsx)(P.a,{})}),Object(F.jsx)(j.a,{children:"Increase"}),Object(F.jsx)(w.a,{className:"formSelect",children:Object(F.jsx)(M.a,{id:"finalStatType",value:O,onChange:function(e){f(e.target.value)},children:W})}),Object(F.jsx)(j.a,{children:"by"}),Object(F.jsx)(T.a,{id:"percentChange",type:"number",value:S,onChange:function(e){x(""===e.target.value?"":Number(e.target.value))}}),Object(F.jsx)(j.a,{children:"% of"}),Object(F.jsx)(w.a,{className:"formSelect",children:Object(F.jsxs)(M.a,{id:"statGroup",value:k,onChange:function(e){E(e.target.value)},children:[Object(F.jsx)(N.a,{value:"base",children:"Base"}),Object(F.jsx)(N.a,{value:"artifact",children:"Artifact"}),Object(F.jsx)(N.a,{value:"total",children:"Total"})]})}),Object(F.jsx)(w.a,{className:"formSelect",children:Object(F.jsx)(M.a,{id:"statGroupType",value:_,onChange:function(e){A(e.target.value)},children:W})}),c&&Object(F.jsx)(v.a,{variant:"contained",startIcon:Object(F.jsx)(H.a,{}),onClick:function(){var e=o(!0);if(!u())return h.onError("Please make sure all values are entered and valid.");f(""),x(""),E(""),A(""),J(-1),r(e)},children:"Add"})]})}),J=function(e){var t=e.defaultSpecialStats,a=e.onSpecialStats,c=Object(n.useState)(t),r=Object(l.a)(c,2),s=r[0],i=r[1];Object(n.useEffect)((function(){a&&a(s)}),[s]);var u=function(e){var t=s.findIndex((function(t){return e.uniqueId===t.uniqueId}));-1!==t&&i([].concat(Object(E.a)(s.slice(0,t)),Object(E.a)(s.slice(t+1))))},o=function(e){var t=s.findIndex((function(t){return e.uniqueId===t.uniqueId}));-1!==t&&i([].concat(Object(E.a)(s.slice(0,t)),[e],Object(E.a)(s.slice(t+1))))},b=s.map((function(e){return Object(F.jsx)(z,{defaultSpecialStat:e,onDelete:u,onUpdate:o},e.uniqueId)}));return Object(F.jsxs)(I.a,{className:"formPanel",children:[Object(F.jsx)(j.a,{variant:"h5",children:"Special Stats (Coming Soon)"}),Object(F.jsx)("div",{className:"appliedStats appliedSpecialStats",children:b}),Object(F.jsx)(z,{isCreationForm:!0,onAdd:function(e){i([].concat(Object(E.a)(s),[e]))}})]})},W=function(e){var t=e.miscStats,a=e.onMiscStats,n=e.specialStats,c=e.onSpecialStats;return Object(F.jsxs)(y.a,{cellHeight:300,spacing:10,cols:2,children:[Object(F.jsx)(D.a,{cols:1,children:Object(F.jsx)(q,{title:"Miscellaneous Stats",defaultData:t,onData:a})}),Object(F.jsx)(D.a,{cols:1,children:Object(F.jsx)(J,{defaultSpecialStats:n,onSpecialStats:c})})]})},U=function(){function e(){Object(O.a)(this,e)}return Object(f.a)(e,null,[{key:"capitalize",value:function(e){return e?"".concat(e[0].toUpperCase()).concat(e.slice(1)):e}}]),e}(),K=a(83),V=function(e){var t=e.defaultData,a=e.onData,c=Object(n.useState)(t.level),r=Object(l.a)(c,2),s=r[0],i=r[1],u=Object(n.useState)(t.weaponType),o=Object(l.a)(u,2),b=o[0],d=o[1];Object(n.useEffect)((function(){a({level:s,weaponType:b})}),[s,b]);var O=Object.keys(K).map((function(e){return Object(F.jsx)(N.a,{value:e,children:U.capitalize(e)},e)}));return Object(F.jsxs)(I.a,{className:"formPanel",children:[Object(F.jsx)(j.a,{variant:"h5",children:"Character Info"}),Object(F.jsx)(T.a,{id:"characterLevel",label:"Level",type:"number",value:s,onChange:function(e){i(""===e.target.value?"":Number(e.target.value))}}),Object(F.jsxs)(w.a,{children:[Object(F.jsx)(B.a,{id:"weaponTypeLabel",children:"Weapon"}),Object(F.jsx)(M.a,{id:"weaponType",labelId:"weaponTypeLabel",value:b,onChange:function(e){d(e.target.value)},children:O})]})]})},Z=a(156),Q=a(47),X=function(){function e(){Object(O.a)(this,e)}return Object(f.a)(e,null,[{key:"getDefaultErBonuses",value:function(){var e={};return Object.keys(Q.names).forEach((function(t){return e[t]=0})),e}},{key:"getEnemyDefense",value:function(e){return S.roundToDecimals(5*e+500,0)}},{key:"getEnemyDefenseMultiplier",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e=n>0?Math.round((t+100)/(t+a+200)):(t+100)/((1-n/100)*(a+100)+t+100),S.roundToDecimals(e,2)}},{key:"getEnemyResistanceMultiplier",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t-a;return e=n<0?1-n/100/2:n>=0&&n<75?1-n/100:1/(4*n/100+1),S.roundToDecimals(e,2)}},{key:"getTotalSkillDamage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,c=t+(n?a:0),r=S.percentIncrease(e,c);return S.roundToDecimals(r,2)}},{key:"getBaseNonCritDamage",value:function(e,t,a){var n=S.percentIncrease(e,t)*a;return S.roundToDecimals(n,0)}},{key:"getBaseCritDamage",value:function(e,t,a,n){var c=S.percentIncrease(e,t),r=S.percentIncrease(c,n)*a;return S.roundToDecimals(r,0)}},{key:"getAverageDamage",value:function(e,t,a){var n=e*((100-a)/100)+t*(a/100);return S.roundToDecimals(n,0)}},{key:"getDamageTypes",value:function(e,t,a){var n={anemo:["swirl"],cryo:["melt","superconduct"],dendro:[],electro:["overload","superconduct","electroCharge"],geo:["shatter"],hydro:["vaporize","electroCharge"],physical:["shatter"],pyro:["melt","vaporize","overload"]}[e]||[];return"claymore"!==t&&!a||-1!==n.indexOf("shatter")||n.push("shatter"),n.sort()}},{key:"getReactionMultiplierPercent",value:function(e,t){return"melt"===e||"vaporize"===e?"pyro"===t?200:150:0}},{key:"getElementalMasteryMultiplier",value:function(e,t){var a=1;"vaporize"===e||"melt"===e?a=2.78:-1!==["overload","superconduct","electroCharge","shatter","swirl"].indexOf(e)&&(a=6.66);var n=a*t/(1400+t)*100;return S.roundToDecimals(n,1)}},{key:"getElementalReactionDamage",value:function(e,t,a,n,c,r){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if("vaporize"===e||"melt"===e){var l=S.percentIncrease(t,n+c),i=S.percentIncrease(l,s);return S.roundToDecimals(i,0)}var u=this._getTransformativeReactionDamage(e,a),o=S.percentIncrease(u,c),j=S.percentIncrease(o,s);return S.roundToDecimals(j*r,0)}},{key:"_getTransformativeReactionDamage",value:function(e,t){var a=(Q.superconduct[t-1]||0)*Q.multipliers[e]||0;return S.roundToDecimals(a,0)}}]),e}(),Y=function(e){var t=e.defaultData,a=e.onData,c=e.character,r=Object(n.useState)(t.level),s=Object(l.a)(r,2),i=s[0],u=s[1],o=Object(n.useState)(t.elementalRes),b=Object(l.a)(o,2),d=b[0],O=b[1],f=Object(n.useState)(t.elementalResReduction),h=Object(l.a)(f,2),m=h[0],v=h[1],p=Object(n.useState)(t.defenseReduction),S=Object(l.a)(p,2),g=S[0],x=S[1],y=Object(n.useState)(X.getEnemyDefense(i)),D=Object(l.a)(y,2),k=D[0],E=D[1],C=Object(n.useState)(X.getEnemyDefenseMultiplier(c.level,i,g)),R=Object(l.a)(C,2),N=R[0],w=R[1],B=Object(n.useState)(X.getEnemyResistanceMultiplier(d,m)),M=Object(l.a)(B,2),_=M[0],H=M[1];Object(n.useEffect)((function(){E(X.getEnemyDefense(i))}),[i]),Object(n.useEffect)((function(){w(X.getEnemyDefenseMultiplier(c.level,i,g))}),[c,i,g]),Object(n.useEffect)((function(){H(X.getEnemyResistanceMultiplier(d,m))}),[d,m]),Object(n.useEffect)((function(){a({level:i,elementalRes:d,elementalResReduction:m,defenseReduction:g,defense:k,defenseMult:N,resMult:_})}),[i,d,m,g,k,N,_]);return Object(F.jsxs)(I.a,{className:"formPanel",children:[Object(F.jsx)(j.a,{variant:"h5",children:"Enemy Info"}),Object(F.jsx)(T.a,{id:"enemyLevel",label:"Level",type:"number",value:i,onChange:function(e){u(""===e.target.value?"":Number(e.target.value))}}),Object(F.jsx)(T.a,{id:"elementalRes",label:"Elemental Resistance (%)",type:"number",value:d,onChange:function(e){O(""===e.target.value?"":Number(e.target.value))}}),Object(F.jsx)(T.a,{id:"elementalResReduction",label:"Elemental Resistance Reduction (%)",type:"number",value:m,onChange:function(e){v(""===e.target.value?"":Number(e.target.value))}}),Object(F.jsx)(T.a,{id:"defenseReduction",label:"Defense Reduction (%)",type:"number",value:g,onChange:function(e){x(""===e.target.value?"":Number(e.target.value))}}),Object(F.jsx)(Z.a,{className:"panelDivider"}),Object(F.jsx)(T.a,{readOnly:!0,disabled:!0,id:"enemyDefense",label:"Defense",type:"number",value:k}),Object(F.jsx)(T.a,{readOnly:!0,disabled:!0,id:"enemyDefenseMult",label:"Defense Multiplier",type:"number",value:N}),Object(F.jsx)(T.a,{readOnly:!0,disabled:!0,id:"enemyResMult",label:"Resistance Multiplier",type:"number",value:_})]})},$=a(176),ee=a(157),te=a(84),ae=function(e){var t=e.defaultData,a=e.onData,c=e.elementalBonus,r=Object(n.useState)(t.damage),s=Object(l.a)(r,2),i=s[0],u=s[1],o=Object(n.useState)(t.bonusDamage),b=Object(l.a)(o,2),d=b[0],O=b[1],f=Object(n.useState)(t.element),h=Object(l.a)(f,2),m=h[0],v=h[1],p=Object(n.useState)(t.doesShatter),S=Object(l.a)(p,2),g=S[0],x=S[1],y=Object(n.useState)(t.doesApplyElementalBonus),D=Object(l.a)(y,2),k=D[0],E=D[1],C=Object(n.useState)(X.getTotalSkillDamage(i,d,c,k)),R=Object(l.a)(C,2),_=R[0],H=R[1];Object(n.useEffect)((function(){H(X.getTotalSkillDamage(i,d,c,k))}),[i,d,c,k]),Object(n.useEffect)((function(){a({damage:i,bonusDamage:d,element:m,doesShatter:g,doesApplyElementalBonus:k,totalDamage:_})}),[i,d,m,g,k,_]);var A=Object.keys(te).map((function(e){return Object(F.jsx)(N.a,{value:e,children:U.capitalize(e)},e)})),P=Object(F.jsx)($.a,{checked:g,onChange:function(e){x(e.target.checked)}}),q=Object(F.jsx)($.a,{checked:k,onChange:function(e){E(e.target.checked)}});return Object(F.jsxs)(I.a,{className:"formPanel",children:[Object(F.jsx)(j.a,{variant:"h5",children:"Skill Info"}),Object(F.jsx)(T.a,{id:"skillDamage",label:"Damage (%)",type:"number",value:i,onChange:function(e){u(""===e.target.value?"":Number(e.target.value))}}),Object(F.jsx)(T.a,{id:"bonusDamage",label:"Bonus Damage (%)",type:"number",value:d,onChange:function(e){O(""===e.target.value?"":Number(e.target.value))}}),Object(F.jsxs)(w.a,{children:[Object(F.jsx)(B.a,{id:"elementLabel",children:"Element"}),Object(F.jsx)(M.a,{id:"element",labelId:"elementLabel",value:m,onChange:function(e){v(e.target.value)},children:A})]}),Object(F.jsx)(ee.a,{control:P,label:"Damage Shatters"}),Object(F.jsx)(ee.a,{control:q,label:"Apply Elemental Bonus"}),Object(F.jsx)(Z.a,{className:"panelDivider"}),Object(F.jsx)(T.a,{readOnly:!0,disabled:!0,id:"totalDamage",label:"Total Damage (%)",type:"number",value:_})]})},ne=function(e){var t=e.character,a=e.onCharacter,n=e.enemy,c=e.onEnemy,r=e.skill,s=e.onSkill,l=e.elementalBonus;return Object(F.jsxs)(y.a,{cellHeight:500,spacing:10,cols:3,children:[Object(F.jsx)(D.a,{cols:1,children:Object(F.jsx)(V,{defaultData:t,onData:a})}),Object(F.jsx)(D.a,{cols:1,children:Object(F.jsx)(Y,{defaultData:n,onData:c,character:t})}),Object(F.jsx)(D.a,{cols:1,children:Object(F.jsx)(ae,{defaultData:r,onData:s,elementalBonus:l})})]})},ce=a(158),re=a(159),se=a(160),le=a(161),ie=a(162),ue=a(163),oe=(a(108),function(e){var t=e.character,a=e.enemy,c=e.skill,r=e.finalStats,s=e.defaultErBonuses,i=e.onErBonuses,u=Object(n.useState)(s),o=Object(l.a)(u,2),j=o[0],b=o[1];Object(n.useEffect)((function(){i(j)}),[j]);var d=X.getDamageTypes(c.element,t.weaponType,c.doesShatter)||[],O=X.getBaseNonCritDamage(r.atk,c.totalDamage,a.defenseMult),f=X.getBaseCritDamage(r.atk,c.totalDamage,a.defenseMult,r.critDamage),h=X.getAverageDamage(O,f,r.critRate),m=Object(F.jsxs)(ce.a,{children:[Object(F.jsx)(re.a,{component:"th",scope:"row",children:"Base Damage"}),Object(F.jsx)(re.a,{children:"0"}),Object(F.jsx)(re.a,{children:"0"}),Object(F.jsx)(re.a,{children:"0"}),Object(F.jsx)(re.a,{children:O}),Object(F.jsx)(re.a,{children:f}),Object(F.jsx)(re.a,{children:h})]}),v=d.map((function(e){var n=X.getReactionMultiplierPercent(e,c.element),s=X.getElementalMasteryMultiplier(e,r.elementalMastery),l=j[e]||0,i=X.getElementalReactionDamage(e,O,t.level,n,s,a.resMult,l),u=X.getElementalReactionDamage(e,f,t.level,n,s,a.resMult,l),o=X.getAverageDamage(i,u,r.critRate);return Object(F.jsxs)(ce.a,{children:[Object(F.jsx)(re.a,{component:"th",scope:"row",children:Q.names[e]}),Object(F.jsx)(re.a,{children:n}),Object(F.jsx)(re.a,{children:s}),Object(F.jsx)(re.a,{children:Object(F.jsx)(T.a,{id:"erBonus",type:"number",value:j[e],onChange:function(t){return function(e,t){j[t]=""===e.target.value?"":Number(e.target.value);var a=Object.assign({},j);b(a)}(t,e)}})}),"melt"===e||"vaporize"===e?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(re.a,{children:i}),Object(F.jsx)(re.a,{children:u}),Object(F.jsx)(re.a,{children:o})]}):Object(F.jsx)(re.a,{colSpan:3,children:i})]},e)}));return Object(F.jsx)(se.a,{className:"expectedDamageTab",component:I.a,children:Object(F.jsxs)(le.a,{children:[Object(F.jsx)(ie.a,{children:Object(F.jsxs)(ce.a,{children:[Object(F.jsx)(re.a,{children:"Damage Type"}),Object(F.jsx)(re.a,{children:"Reaction Multiplier (%)"}),Object(F.jsx)(re.a,{children:"Elemental Mastery Multiplier (%)"}),Object(F.jsx)(re.a,{children:"Elemental Reaction Bonus (%)"}),Object(F.jsx)(re.a,{children:"Non-Crit"}),Object(F.jsx)(re.a,{children:"Crit"}),Object(F.jsx)(re.a,{children:"Average"})]})}),Object(F.jsxs)(ue.a,{children:[m,v]})]})})}),je=a(177),be=a(164),de=a(165),Oe=a(166),fe=a(167),he=a(85),me=a.n(he),ve=function(e){var t=e.open,a=e.setOpen,c=e.saveData,r=JSON.stringify(c,null,2),s=Object(n.useRef)(null);return t?Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)(je.a,{fullWidth:!0,open:t,onClose:function(){return a(!1)},children:[Object(F.jsx)(be.a,{id:"saveDataTitle",children:"Save Data"}),Object(F.jsxs)(de.a,{children:[Object(F.jsx)(Oe.a,{children:"Copy-paste the output below to load your artifacts into the app next time."}),Object(F.jsx)(T.a,{readOnly:!0,fullWidth:!0,multiline:!0,id:"saveData",className:"saveData",label:"Save Data",margin:"dense",inputRef:s,value:r,inputProps:{style:{fontFamily:"source-code-pro, monospace"}}})]}),Object(F.jsxs)(fe.a,{children:[Object(F.jsx)(v.a,{variant:"contained",startIcon:Object(F.jsx)(me.a,{}),onClick:function(e){s.current.select(),document.execCommand("copy"),e.target.focus(),h.onSuccess("Copied data to clipboard!")},children:"Copy to Clipboard"}),Object(F.jsx)(v.a,{variant:"contained",onClick:function(){return a(!1)},children:"Ok"})]})]})}):null},pe=function(e){var t=e.baseStats,a=e.artifactsStats,n=e.finalStats;return Object(F.jsxs)(y.a,{cellHeight:500,spacing:10,cols:3,children:[Object(F.jsx)(D.a,{cols:1,children:Object(F.jsx)(q,{readOnly:!0,title:"Base Stat Totals",data:t})}),Object(F.jsx)(D.a,{cols:1,children:Object(F.jsx)(q,{readOnly:!0,title:"Artifact Totals",data:a})}),Object(F.jsx)(D.a,{cols:1,children:Object(F.jsx)(q,{readOnly:!0,title:"Final Stats",data:n})})]})},Se=a(71),ge=new(function(){function e(){Object(O.a)(this,e);try{Se.a.initialize("G-SZJNJJP2JP")}catch(t){this._isDisabled=!0}}return Object(f.a)(e,[{key:"logEvent",value:function(e){this._isDisabled||Se.a.event(e)}}]),e}()),xe=(a(109),function(e){var t=e.data,a=Object(n.useState)(!1),c=Object(l.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)({}),u=Object(l.a)(i,2),o=u[0],b=u[1],d=Object(n.useState)(0),O=Object(l.a)(d,2),f=O[0],h=O[1],S=Object(n.useState)(t.character||{level:90,weaponType:""}),g=Object(l.a)(S,2),y=g[0],D=g[1],k=Object(n.useState)(t.enemy||{level:83,elementalRes:10,elementalResReduction:0,defenseReduction:0}),E=Object(l.a)(k,2),C=E[0],R=E[1],T=Object(n.useState)(t.skill||{damage:0,bonusDamage:0,element:"",doesShatter:!1,doesApplyElementalBonus:!0}),N=Object(l.a)(T,2),I=N[0],w=N[1],B=Object(n.useState)(t.characterStats||{atk:0,def:0,hp:0,critRate:5,critDamage:50,energyRecharge:100}),M=Object(l.a)(B,2),_=M[0],H=M[1],A=Object(n.useState)(t.weaponStats||{}),P=Object(l.a)(A,2),q=P[0],z=P[1],J=Object(n.useState)(t.setEffectsStats||{}),U=Object(l.a)(J,2),K=U[0],V=U[1],Z=Object(n.useState)(t.flowerStats||{hp:0}),Q=Object(l.a)(Z,2),Y=Q[0],$=Q[1],ee=Object(n.useState)(t.featherStats||{atk:0}),te=Object(l.a)(ee,2),ae=te[0],ce=te[1],re=Object(n.useState)(t.timepieceStats||{}),se=Object(l.a)(re,2),le=se[0],ie=se[1],ue=Object(n.useState)(t.gobletStats||{}),je=Object(l.a)(ue,2),be=je[0],de=je[1],Oe=Object(n.useState)(t.hatStats||{}),fe=Object(l.a)(Oe,2),he=fe[0],me=fe[1],Se=Object(n.useState)(t.miscStats||{}),xe=Object(l.a)(Se,2),ye=xe[0],De=xe[1],ke=Object(n.useState)(t.specialStats||[]),Ee=Object(l.a)(ke,2),Ce=Ee[0],Re=Ee[1],Te=Object(n.useState)(t.erBonuses||X.getDefaultErBonuses()),Ne=Object(l.a)(Te,2),Ie=Ne[0],we=Ne[1],Be=Object(n.useState)({}),Me=Object(l.a)(Be,2),_e=Me[0],He=Me[1],Ae=Object(n.useState)({}),Pe=Object(l.a)(Ae,2),Fe=Pe[0],qe=Pe[1],Ge=Object(n.useState)({}),Le=Object(l.a)(Ge,2),ze=Le[0],Je=Le[1];Object(n.useEffect)((function(){He(x.addStats(_,q)),qe(x.addStats(Y,ae,le,be,he,K))}),[_,q,Y,ae,le,be,he,K,ye,Ce]),Object(n.useEffect)((function(){Je(x.getFinalStats(_,q,_e,Fe,ye,Ce))}),[_,q,_e,Fe,ye,Ce]);var We=["Damage Info","Base Stats","Artifacts","Bonuses","Totals","Damage"],Ue=We.map((function(e){return Object(F.jsx)(m.a,{label:e},e)})),Ke=[Object(F.jsx)(ne,{character:y,onCharacter:D,enemy:C,onEnemy:R,skill:I,onSkill:w,elementalBonus:ze.elementalBonus},"damage"),Object(F.jsx)(L,{characterStats:_,onCharacterStats:H,weaponStats:q,onWeaponStats:z},"baseStats"),Object(F.jsx)(G,{flowerStats:Y,onFlowerStats:$,featherStats:ae,onFeatherStats:ce,timepieceStats:le,onTimepieceStats:ie,gobletStats:be,onGobletStats:de,hatStats:he,onHatStats:me,setEffectsStats:K,onSetEffectsStats:V},"artifacts"),Object(F.jsx)(W,{miscStats:ye,onMiscStats:De,specialStats:Ce,onSpecialStats:Re},"bonusStats"),Object(F.jsx)(pe,{baseStats:_e,artifactsStats:Fe,finalStats:ze},"totals"),Object(F.jsx)(oe,{character:y,enemy:C,skill:I,finalStats:ze,defaultErBonuses:Ie,onErBonuses:we})];return Object(F.jsxs)("div",{className:"calculator",children:[Object(F.jsxs)("header",{children:[Object(F.jsxs)("div",{className:"headerLeft",children:[Object(F.jsx)(j.a,{variant:"h4",gutterBottom:!0,children:"Genshin Impact Damage Calculator"}),Object(F.jsx)("div",{className:"headerActions",children:Object(F.jsx)(v.a,{variant:"contained",onClick:function(){var e={character:y,skill:I,characterStats:_,weaponStats:q,setEffectsStats:K,flowerStats:Y,featherStats:ae,timepieceStats:le,gobletStats:be,hatStats:he,miscStats:ye,specialStats:Ce,erBonuses:Ie};b(e),s(!0),ge.logEvent({category:"User",action:"Save",label:btoa(JSON.stringify(e,null,2))})},children:"Save"})})]}),Object(F.jsx)(p.a,{variant:"scrollable",scrollButtons:"auto",value:f,onChange:function(e,t){ge.logEvent({category:"Navigation",action:"Tab Switch",label:We[t]}),h(t)},children:Ue})]}),Object(F.jsx)("div",{className:"tabContent",children:Ke[f]}),Object(F.jsx)(ve,{open:r,setOpen:s,saveData:o})]})}),ye=(a(110),function(e){var t=e.open,a=e.setOpen,c=e.onSaveDataSubmit,r=Object(n.useState)(""),s=Object(l.a)(r,2),i=s[0],u=s[1],o=Object(n.useState)(""),j=Object(l.a)(o,2),b=j[0],d=j[1];Object(n.useEffect)((function(){u("")}),[b]);var O=function(){try{var e=JSON.parse(b);a(!1),c(e),ge.logEvent({category:"User",action:"Load",label:btoa(JSON.stringify(e,null,2))})}catch(t){u("Could not parse save data, please check that it is correctly formatted.")}};return Object(F.jsxs)(je.a,{fullWidth:!0,open:t,onClose:function(){return a(!1)},children:[Object(F.jsx)(be.a,{id:"saveDataTitle",children:"Load Save Data"}),Object(F.jsxs)(de.a,{children:[Object(F.jsx)(Oe.a,{children:"If you have save data from previously using the app, copy-paste it below."}),Object(F.jsx)(T.a,{autoFocus:!0,fullWidth:!0,multiline:!0,id:"saveData",label:"Save Data",margin:"dense",onChange:function(e){return d(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),O())}}),i&&Object(F.jsx)(Oe.a,{color:"error",children:i})]}),Object(F.jsxs)(fe.a,{children:[Object(F.jsx)(v.a,{onClick:function(){return a(!1)},children:"Cancel"}),Object(F.jsx)(v.a,{onClick:O,children:"Load"})]})]})}),De=function(e){var t=e.loadApp,a=Object(n.useState)(!1),c=Object(l.a)(a,2),r=c[0],s=c[1];return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{className:"welcome",children:[Object(F.jsx)(j.a,{variant:"h2",gutterBottom:!0,children:"Genshin Impact Damage Calculator"}),Object(F.jsxs)("div",{className:"actionButtons",children:[Object(F.jsx)(v.a,{variant:"contained",color:"primary",onClick:function(){return s(!0)},children:"Load Save"}),Object(F.jsx)(v.a,{variant:"contained",onClick:t,children:"Get Started"})]})]}),Object(F.jsx)(ye,{open:r,setOpen:s,onSaveDataSubmit:t})]})},ke=(a(111),a(174)),Ee=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)({}),O=Object(l.a)(s,2),f=O[0],m=O[1],v=Object(n.useState)(!1),p=Object(l.a)(v,2),S=p[0],g=p[1],x=Object(n.useState)(""),y=Object(l.a)(x,2),D=y[0],k=y[1],E=Object(n.useState)(!1),C=Object(l.a)(E,2),R=C[0],T=C[1],N=Object(n.useState)(""),I=Object(l.a)(N,2),w=I[0],B=I[1];Object(n.useEffect)((function(){h.registerSuccessHandler(_),h.registerErrorHandler(H)}),[]);var M=c.a.useMemo((function(){return Object(i.a)({palette:{type:"dark"}})})),_=function(e){k(e),g(!0)},H=function(e){B(e),T(!0)};return Object(F.jsxs)(u.a,{theme:M,children:[Object(F.jsx)(o.a,{}),Object(F.jsxs)("div",{className:"app",children:[a?Object(F.jsx)(xe,{data:f}):Object(F.jsx)(De,{loadApp:function(e){m(Object.assign(f,e)),r(!0)}}),Object(F.jsx)("div",{className:"credits",children:Object(F.jsxs)(j.a,{children:["View on ",Object(F.jsx)(b.a,{href:"https://github.com/knazir/genshin-calc",target:"_blank",children:"GitHub"})]})})]}),Object(F.jsx)(d.a,{open:S,autoHideDuration:3e3,onClose:function(){return g(!1)},children:Object(F.jsx)(ke.a,{onClose:function(){return g(!1)},severity:"success",children:D})}),Object(F.jsx)(d.a,{open:R,autoHideDuration:3e3,onClose:function(){return T(!1)},children:Object(F.jsx)(ke.a,{onClose:function(){return T(!1)},severity:"error",children:w})})]})};a(112);s.a.render(Object(F.jsx)(Ee,{}),document.getElementById("root"))},37:function(e){e.exports=JSON.parse('{"atk":"ATK","atkPercent":"ATK %","def":"DEF","defPercent":"DEF %","hp":"HP","hpPercent":"HP %","critRate":"CRIT Rate %","critDamage":"CRIT DMG %","elementalMastery":"Elemental Mastery","energyRecharge":"Energy Recharge %","healingBonus":"Healing Bonus %","elementalBonus":"Elemental DMG %"}')},47:function(e){e.exports=JSON.parse('{"names":{"electroCharge":"Electro-Charge","melt":"Melt","overload":"Overload","shatter":"Shatter","superconduct":"Superconduct","swirl":"Swirl","vaporize":"Vaporize"},"multipliers":{"electroCharge":2.4,"melt":0,"overload":4,"shatter":3,"superconduct":1,"swirl":1.2,"vaporize":0},"superconduct":[8,9,9,10,11,12,12,13,16,17,18,20,22,23,27,29,31,34,37,40,42,46,48,51,53,56,59,61,64,68,71,74,77,80,84,88,91,96,99,103,107,111,117,121,128,133,140,147,154,161,168,174,182,189,199,208,217,226,236,244,254,266,278,290,303,314,326,337,348,360,371,382,391,401,414,427,438,450,461,472,483,494,507,518,532,544,557,570,586,601]}')},83:function(e){e.exports=JSON.parse('{"bow":null,"catalyst":null,"claymore":null,"polearm":null,"sword":null}')},84:function(e){e.exports=JSON.parse('{"anemo":null,"cryo":null,"dendro":null,"electro":null,"geo":null,"hydro":null,"physical":null,"pyro":null}')}},[[113,1,2]]]);
//# sourceMappingURL=main.01cada6f.chunk.js.map